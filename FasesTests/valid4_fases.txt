
--- TOKENS ---
escena → IR_A
inicio → COMMENT
{ → ESCENA
decir → ID
"Visitando la plaza" → 9
; → OPCION
opcion → STRING
"Continuar" → 9
ir_a → WS
plaza → COMMENT
; → OPCION
} → DECIR
escena → IR_A
plaza → COMMENT
{ → ESCENA
decir → ID
"Plaza principal" → 9
; → OPCION
opcion → STRING
"Fin" → 9
ir_a → WS
fin → COMMENT
; → OPCION
} → DECIR
escena → IR_A
fin → COMMENT
{ → ESCENA
decir → ID
"Tour finalizado" → 9
; → OPCION
} → DECIR
--------------

--- ÁRBOL SINTÁCTICO ---
program
  scene
    'escena'
    'inicio'
    '{'
    dialogue
      decir
        'decir'
        '"Visitando la plaza"'
        ';'
    dialogue
      opcion
        'opcion'
        '"Continuar"'
        'ir_a'
        'plaza'
        ';'
    '}'
  scene
    'escena'
    'plaza'
    '{'
    dialogue
      decir
        'decir'
        '"Plaza principal"'
        ';'
    dialogue
      opcion
        'opcion'
        '"Fin"'
        'ir_a'
        'fin'
        ';'
    '}'
  scene
    'escena'
    'fin'
    '{'
    dialogue
      decir
        'decir'
        '"Tour finalizado"'
        ';'
    '}'
  '<EOF>'
------------------------

=== FASE SEMÁNTICA ===
[SEM] Escena detectada: inicio
[SEM] Diálogo en inicio: "Visitando la plaza"
[SEM] Opción en inicio: '"Continuar"' -> plaza
[SEM] Escena detectada: plaza
[SEM] Diálogo en plaza: "Plaza principal"
[SEM] Opción en plaza: '"Fin"' -> fin
[SEM] Escena detectada: fin
[SEM] Diálogo en fin: "Tour finalizado"
======================
--- TABLA DE SÍMBOLOS ---
inicio:
  Diálogos: [('decir', '"Visitando la plaza"')]
  Opciones: [{'text': '"Continuar"', 'target': 'plaza'}]
plaza:
  Diálogos: [('decir', '"Plaza principal"')]
  Opciones: [{'text': '"Fin"', 'target': 'fin'}]
fin:
  Diálogos: [('decir', '"Tour finalizado"')]
  Opciones: []
-------------------------

⚠️ escena 'fin' sin opciones.
